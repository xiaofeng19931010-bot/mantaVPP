<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manta VPP | Device Access Management</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        manta: {
                            primary: '#2E9F58',
                            dark: '#1A6E3B',
                            light: '#F4F7F9',
                            text: '#333333',
                            border: '#E5E7EB',
                            error: '#EF4444'
                        },
                        brand: {
                            DEFAULT: '#2E9F58', // Manta Green
                            light: '#4ADE80',
                            dark: '#1A6E3B',
                        },
                        surface: {
                            DEFAULT: '#FFFFFF', // White
                            light: '#F9FAFB', // Gray 50
                            dark: '#F3F4F6', // Gray 100
                        },
                        success: '#10B981', // Emerald
                        danger: '#EF4444', // Red
                        warning: '#F59E0B', // Amber
                    }
                }
            }
        }
    </script>

    <!-- Custom Styles -->
    <style>
        body {
            background-color: #F9FAFB; /* Gray 50 */
            color: #1F2937; /* Gray 800 */
        }
        
        /* Navigation Item Active State - Figma Styled */
        .nav-item.active {
            background-color: #FFFFFF; /* White */
            color: #3ec064; /* Figma Green */
            font-weight: 500;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .nav-item.active span {
            color: #3ec064;
        }

        .nav-item.active i, 
        .nav-item.active svg {
            color: #3ec064;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent; 
        }
        ::-webkit-scrollbar-thumb {
            background: #CBD5E1; 
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94A3B8; 
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Mobile Sidebar Overlay */
        .sidebar-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(2px);
        }
    </style>
    
    <!-- ECharts for Data Visualization -->
    <script src="lib/echarts.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="antialiased overflow-hidden h-screen w-screen flex text-sm font-sans">

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebar-overlay" onclick="app.toggleSidebar()" class="fixed inset-0 z-20 hidden sidebar-overlay transition-opacity duration-300 opacity-0"></div>

    <!-- Sidebar -->
    <aside id="main-sidebar" class="fixed inset-y-0 left-0 z-30 w-64 h-full flex flex-col bg-white border-r border-gray-200 shadow-[4px_0_24px_rgba(0,0,0,0.02)] transform transition-transform duration-300 -translate-x-full md:translate-x-0 md:static">
        <!-- Logo -->
        <div class="shrink-0 flex items-center px-6 pt-4 pb-2 bg-white relative z-10">
            <div class="flex items-end gap-1">
                <div class="relative w-24 h-16 shrink-0">
                    <div class="absolute inset-y-0 left-0 w-[56.67%]">
                        <svg viewBox="0 0 54.4 64" class="w-full h-full" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="paint0_linear_logo" x1="0" y1="32" x2="54.4" y2="32" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#00E944"/>
                                    <stop offset="1" stop-color="#0066FF"/>
                                </linearGradient>
                            </defs>
                            <path d="M52.1159 11.0476C53.5637 13.392 54.4 16.1553 54.4 19.1145C54.4 22.2345 53.4699 25.1363 51.8741 27.5594C46.5717 27.526 41.5481 26.3191 37.0463 24.1873C43.7312 22.1409 49.2028 17.3119 52.1159 11.0476Z" fill="url(#paint0_linear_logo)"/>
                            <path d="M16.1222 0C18.5046 11.1342 25.9071 20.4017 35.8417 25.3106H35.8432C35.9009 25.3391 35.959 25.3671 36.0169 25.3953C36.2932 25.53 36.5715 25.661 36.8516 25.789C37.042 25.8759 37.233 25.9616 37.4251 26.0454C41.5286 27.8349 46.0209 28.8979 50.7406 29.0696C50.477 29.3793 50.2025 29.6794 49.9156 29.9671C48.8636 29.8997 47.8028 29.8644 46.7338 29.8644C44.6568 29.8644 42.61 29.9937 40.6009 30.2446C39.9815 30.3219 39.3659 30.4113 38.7539 30.5115C30.1601 31.9195 22.3178 35.5643 15.8407 40.8288C8.51952 46.7793 2.94268 54.799 0 64C1.79791 54.1144 6.5496 45.2615 13.3043 38.3895C9.28851 33.589 6.86962 27.4031 6.86962 20.6502C6.86962 12.438 10.4456 5.06296 16.1222 0Z" fill="url(#paint0_linear_logo)"/>
                        </svg>
                    </div>
                    <div class="absolute bottom-[20%] right-0 w-[71.67%] h-[17.5%]">
                         <svg viewBox="0 0 68.8 11.2" class="w-full h-full" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="paint1_linear_logo" x1="0" y1="5.6" x2="68.8" y2="5.6" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#00E944"/>
                                    <stop offset="1" stop-color="#0066FF"/>
                                </linearGradient>
                            </defs>
                            <path d="M7.2 4.8L11.2 0H14.4V11.2H11.2V4L8 8H6.4L3.2 4V11.2H0V0H3.2L7.2 4.8Z" fill="url(#paint1_linear_logo)"/>
                            <path d="M30.4 11.2H27.2L23.2 4L21.4219 7.2H23.2L24.8 9.6H20.0891L19.2 11.2H16L22.4 0H24L30.4 11.2Z" fill="url(#paint1_linear_logo)"/>
                            <path d="M40 6.71953V0H43.2V11.2H40L35.2 4.47969V11.2H32V0H35.2L40 6.71953Z" fill="url(#paint1_linear_logo)"/>
                            <path d="M56 2.4H52V11.2H48.8V2.4H44.8V0H56V2.4Z" fill="url(#paint1_linear_logo)"/>
                            <path d="M68.8 11.2H65.6L61.6 4L59.8219 7.2H61.6L63.2 9.6H58.4891L57.6 11.2H54.4L60.8 0H62.4L68.8 11.2Z" fill="url(#paint1_linear_logo)"/>
                        </svg>
                    </div>
                </div>
                <div class="h-[36px] flex items-center justify-center shrink-0">
                     <p class="italic text-sm text-[#313949] leading-[1.4]" style="font-family: 'Roboto', sans-serif;">VPP</p>
                </div>
            </div>
            <button onclick="app.toggleSidebar()" class="md:hidden absolute right-4 text-gray-400 hover:text-gray-600">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>

        <!-- Navigation -->
        <nav class="flex-1 px-0 py-2 space-y-0 overflow-y-auto custom-scrollbar flex flex-col items-start w-full">
            <!-- Overview -->
            <div class="w-full px-0 py-2 h-[64px] flex items-center">
                <a href="#" id="nav-overview" class="w-full flex items-center gap-1 px-4 py-2 relative group hover:bg-gray-50 transition-colors" onclick="app.navigate('overview')">
                    <!-- Complex Overview Icon from Figma -->
                    <div class="relative shrink-0 w-[24px] h-[24px]">
                        <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[18px] h-[18px] border-2 border-[#313949] rounded-[2px]"></div>
                        <div class="absolute left-[calc(50%-4px)] top-[calc(50%+1px)] w-0 h-[8px] -translate-x-1/2 -translate-y-1/2">
                            <div class="absolute inset-[0_-1px]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/overview-part1.svg" />
                            </div>
                        </div>
                        <div class="absolute left-1/2 top-1/2 w-0 h-[10px] -translate-x-1/2 -translate-y-1/2">
                            <div class="absolute inset-[0_-1px]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/overview-part2.svg" />
                            </div>
                        </div>
                        <div class="absolute left-[calc(50%+4px)] top-[calc(50%+2px)] w-0 h-[6px] -translate-x-1/2 -translate-y-1/2">
                            <div class="absolute inset-[0_-1px]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/overview-part3.svg" />
                            </div>
                        </div>
                    </div>
                    <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">Overview</span>
                </a>
            </div>
            
            <!-- VPP Management -->
            <div class="w-full px-0 py-2 h-[64px] flex items-center">
                <a href="#" id="nav-vpp" class="w-full flex items-center gap-1 px-4 py-2 group hover:bg-gray-50 transition-colors" onclick="app.navigate('vpp')">
                    <div class="relative shrink-0 w-[24px] h-[24px]">
                        <img alt="" class="block max-w-none w-full h-full" src="assets/icons/vpp-management.svg" />
                    </div>
                    <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">VPP Management</span>
                </a>
            </div>

            <!-- DER Management -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('der-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="der-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('der-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px] flex items-center justify-center">
                            <!-- Using Lucide CPU but styled like Figma icons -->
                            <i data-lucide="cpu" class="w-5 h-5 text-[#313949]"></i>
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">DER Management</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="der-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-der_ess" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('der_ess')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">ESS</span>
                    </a>
                    <a href="#" id="nav-der_pv" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('der_pv')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">PV</span>
                    </a>
                    <a href="#" id="nav-der_ev" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('der_ev')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">EV</span>
                    </a>
                </div>
            </div>
            
            <!-- Electricity Market -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('electricity-market-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="electricity-market-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('electricity-market-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px]">
                            <img alt="" class="block max-w-none w-full h-full" src="assets/icons/electricity-market.svg" />
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">Electricity Market</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="electricity-market-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-spot_market" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('spot_market')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Spot Market</span>
                    </a>
<!-- Trading Menu Removed -->
                    <a href="#" id="nav-arbitrage_points" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('arbitrage_points')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Arbitrage Points</span>
                    </a>
                </div>
            </div>

            <!-- Trading Section Removed -->

            <!-- Smart Feed-in -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('smart-feed-in-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="smart-feed-in-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('smart-feed-in-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px]">
                            <img alt="" class="block max-w-none w-full h-full" src="assets/icons/smart-feed-in.svg" />
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">Smart Feed-in</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="smart-feed-in-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-smart_feed_in_rules" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('smart_feed_in_rules')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Smart Feed-in Rules</span>
                    </a>
                    <a href="#" id="nav-smart_feed_in_events" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('smart_feed_in_events')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Smart Feed-in Events</span>
                    </a>
                </div>
            </div>

            <!-- Cap Service -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('cap-service-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="cap-service-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('cap-service-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px]">
                            <img alt="" class="block max-w-none w-full h-full" src="assets/icons/cap-service.svg" />
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">Cap Service</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="cap-service-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-cap_graph" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('cap_graph')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Cap Graph</span>
                    </a>
                    <a href="#" id="nav-cap_rules" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('cap_rules')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Cap Rules</span>
                    </a>
                    <a href="#" id="nav-cap_events" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('cap_events')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Cap Events</span>
                    </a>
                </div>
            </div>

            <!-- FCAS -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('fcas-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="fcas-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('fcas-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px]">
                            <img alt="" class="block max-w-none w-full h-full" src="assets/icons/fcas.svg" />
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">FCAS</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="fcas-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-fcas_groups" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('fcas_groups')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">FCAS Groups</span>
                    </a>
                    <a href="#" id="nav-fcas_price_availability" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('fcas_price_availability')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Price and Availability</span>
                    </a>
                </div>
            </div>

            <!-- Reports -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('reports-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="reports-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('reports-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px]">
                            <img alt="" class="block max-w-none w-full h-full" src="assets/icons/reports.svg" />
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">Reports</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="reports-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-reports_vpp_events" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('reports_vpp_events')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">VPP Events</span>
                    </a>
                    <a href="#" id="nav-reports_der_events" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('reports_der_events')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">DER Events</span>
                    </a>
                    <a href="#" id="nav-reports_vpp_event_items" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('reports_vpp_event_items')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">VPP Event Items</span>
                    </a>
                    <a href="#" id="nav-reports_vpp_event_month_summary" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('reports_vpp_event_month_summary')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">VPP Event Month Summary</span>
                    </a>
                    <a href="#" id="nav-reports_terminated" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('reports_terminated')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Terminated</span>
                    </a>
                </div>
            </div>
            
            <!-- System -->
            <div class="w-full py-2">
                <div class="w-full h-[64px] flex items-center justify-between px-0 cursor-pointer focus:outline-none focus:bg-gray-50 hover:bg-gray-50 transition-colors" onclick="app.toggleSubmenu('system-submenu', this)" role="button" tabindex="0" aria-expanded="false" aria-controls="system-submenu" onkeydown="if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); app.toggleSubmenu('system-submenu', this); }">
                    <div class="flex items-center gap-1 px-4">
                        <div class="relative shrink-0 w-[24px] h-[24px]">
                            <img alt="" class="block max-w-none w-full h-full" src="assets/icons/system.svg" />
                        </div>
                        <span class="font-['Roboto'] font-semibold text-[16px] text-[#313949] text-center ml-1">System</span>
                    </div>
                    <div class="relative shrink-0 w-[32px] h-[32px] mr-2 chevron-icon transition-transform duration-300">
                        <div class="absolute inset-[41.67%_31.25%_39.58%_31.25%]">
                            <div class="absolute inset-[-11.79%_-5.89%_-23.57%_-5.89%]">
                                <img alt="" class="block max-w-none w-full h-full" src="assets/icons/chevron-down.svg" />
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="system-submenu" class="max-h-0 overflow-hidden opacity-0 transition-all duration-300 ease-in-out bg-[#f3f3f6] mx-2 rounded-[4px] flex flex-col gap-1 p-1">
                    <a href="#" id="nav-device_management" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('device_management')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Sub-VPP Management</span>
                    </a>
                    <a href="#" id="nav-settings" class="nav-item flex items-center gap-2 px-4 py-3 rounded-[4px] hover:bg-white group transition-colors" onclick="app.navigate('settings')">
                        <span class="flex-1 font-['Roboto'] font-medium text-[14px] text-[#313949] group-hover:text-[#3ec064]">Settings</span>
                    </a>
                </div>
            </div>
        </nav>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col h-full relative overflow-hidden bg-gray-50">
        
        <!-- Header -->
        <header class="h-16 shrink-0 bg-white border-b border-[#00e944] flex items-center justify-between px-[16px] z-10 shadow-sm relative">
            <div class="flex items-center gap-4">
                <!-- Mobile Toggle -->
                <button onclick="app.toggleSidebar()" class="md:hidden p-2 -ml-2 text-gray-500 hover:text-manta-primary transition-colors">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>

                <!-- Breadcrumbs -->
                <div id="breadcrumbs" class="flex items-center text-[12px] font-['Roboto']">
                    <!-- Injected by app.js -->
                </div>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-[16px]">
                <!-- Notifications -->
                <div class="relative w-[24px] h-[24px] flex items-center justify-center cursor-pointer">
                    <div class="absolute inset-0 flex items-center justify-center">
                         <!-- Using a placeholder icon or code connect snippet if available, otherwise keeping standard bell but styling it -->
                         <!-- Design uses a specific icon, I'll stick to Lucide bell for consistency but style it -->
                         <i data-lucide="bell" class="w-5 h-5 text-gray-400 hover:text-manta-primary transition-colors"></i>
                    </div>
                    <div class="absolute top-[6px] right-[6px] w-[6px] h-[6px] bg-red-500 rounded-full border border-white"></div>
                </div>
                
                <!-- Help Center -->
                <button class="w-[24px] h-[24px] flex items-center justify-center text-gray-400 hover:text-manta-primary transition-colors" title="Support">
                    <i data-lucide="help-circle" class="w-5 h-5"></i>
                </button>
                
                <!-- User Profile (Avatar Only) -->
                <div onclick="app.handleLogout()" class="relative w-[36px] h-[36px] rounded-full overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" title="Click to Logout">
                    <!-- Using initials styled as avatar background since we don't have a real image asset -->
                    <div id="user-initials" class="w-full h-full bg-manta-primary/10 flex items-center justify-center text-manta-primary font-bold text-xs">
                        AD
                    </div>
                    <!-- Hidden details for logic preservation -->
                    <div class="hidden">
                        <p id="user-name">Admin User</p>
                        <p id="user-email">admin@manta.energy</p>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dynamic Content Container -->
        <div id="content-area" class="flex-1 overflow-y-auto p-8 relative scroll-smooth">
            <!-- Content will be injected here by app.js -->
        </div>

    </main>

    <!-- Global Toast Container -->
    <div id="toast-container" class="fixed bottom-6 right-6 z-50 flex flex-col gap-3 pointer-events-none"></div>

    <!-- Modals Container -->
    <div id="modal-container" class="fixed inset-0 z-40 hidden">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-0" id="modal-backdrop"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div id="modal-content" class="bg-surface border border-white/10 rounded-xl shadow-2xl w-full max-w-4xl transform scale-95 opacity-0 transition-all duration-300 overflow-hidden">
                <!-- Modal content injected here -->
            </div>
        </div>
    </div>

    <!-- VPP Drawer Container -->
    <div id="drawer-container" class="fixed inset-0 z-40 hidden pointer-events-none" role="dialog" aria-modal="true">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-0 pointer-events-auto" id="drawer-backdrop"></div>
        <div class="absolute inset-y-0 right-0 w-full md:w-[400px] bg-surface border-l border-white/10 shadow-2xl transform translate-x-full transition-transform duration-300 pointer-events-auto flex flex-col" id="drawer-content">
            <!-- Drawer content injected here -->
        </div>
    </div>

    <!-- App Logic -->
    <script src="users.js"></script>
    <script src="app.js"></script>
    <script>
        // Initialize Icons
        lucide.createIcons();
    </script>
</body>
</html>
